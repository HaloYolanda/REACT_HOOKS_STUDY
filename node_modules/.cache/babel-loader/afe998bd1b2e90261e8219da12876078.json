{"ast":null,"code":"import _classCallCheck from \"/Users/apple/Desktop/React_Study/REACT_HOOKS_STUDY/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/apple/Desktop/React_Study/REACT_HOOKS_STUDY/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/apple/Desktop/React_Study/REACT_HOOKS_STUDY/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/apple/Desktop/React_Study/REACT_HOOKS_STUDY/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/apple/Desktop/React_Study/REACT_HOOKS_STUDY/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nvar _jsxFileName = \"/Users/apple/Desktop/React_Study/REACT_HOOKS_STUDY/src/demos/context/index.js\",\n    _this4 = this;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar _React$createContext = React.createContext('default'),\n    Provider = _React$createContext.Provider,\n    Consumer = _React$createContext.Consumer;\n\nvar Parent = /*#__PURE__*/function (_React$Component) {\n  _inherits(Parent, _React$Component);\n\n  var _super = _createSuper(Parent);\n\n  function Parent() {\n    var _this;\n\n    _classCallCheck(this, Parent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      childContext: '123',\n      newContext: '456'\n    };\n    return _this;\n  }\n\n  _createClass(Parent, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        value: this.state.childContext,\n        a: 'aaaaa'\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }\n      }, \"childContext:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.childContext,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            childContext: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }\n      }, \"newContext:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.newContext,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            newContext: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Provider, {\n        value: this.state.newContext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }, this.props.children));\n    }\n  }]);\n\n  return Parent;\n}(React.Component);\n\nvar Parent2 = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Parent2, _React$Component2);\n\n  var _super2 = _createSuper(Parent2);\n\n  function Parent2() {\n    _classCallCheck(this, Parent2);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Parent2, [{\n    key: \"getChildContext\",\n    // { value: this.state.childContext, a: 'bbbbb' }\n    value: function getChildContext() {\n      return {\n        a: 'bbbbb'\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return Parent2;\n}(React.Component);\n\nfunction Child1(props, context) {\n  var _this3 = this;\n\n  console.log(context);\n  return /*#__PURE__*/React.createElement(Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 10\n    }\n  }, function (value) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 30\n      }\n    }, \"newContext: \", value);\n  });\n}\n\nChild1.contextTypes = {\n  value: PropTypes.string\n};\n\nvar Child2 = /*#__PURE__*/function (_React$Component3) {\n  _inherits(Child2, _React$Component3);\n\n  var _super3 = _createSuper(Child2);\n\n  function Child2() {\n    _classCallCheck(this, Child2);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(Child2, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }, \"childContext: \", this.context.value, \" \", this.context.a);\n    }\n  }]);\n\n  return Child2;\n}(React.Component); // Child2.contextType = Consumer\n\n\nChild2.contextTypes = {\n  value: PropTypes.string,\n  a: PropTypes.string\n};\nParent.childContextTypes = {\n  value: PropTypes.string,\n  a: PropTypes.string\n};\nParent2.childContextTypes = {\n  a: PropTypes.string\n};\nexport default (function () {\n  return /*#__PURE__*/React.createElement(Parent, {\n    __self: _this4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Parent2, {\n    __self: _this4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Child1, {\n    __self: _this4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Child2, {\n    __self: _this4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  })));\n});","map":{"version":3,"sources":["/Users/apple/Desktop/React_Study/REACT_HOOKS_STUDY/src/demos/context/index.js"],"names":["React","PropTypes","createContext","Provider","Consumer","Parent","state","childContext","newContext","value","a","e","setState","target","props","children","Component","Parent2","Child1","context","console","log","contextTypes","string","Child2","childContextTypes"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst { Provider, Consumer } = React.createContext('default')\n\nclass Parent extends React.Component {\n  state = {\n    childContext: '123',\n    newContext: '456',\n  }\n\n  getChildContext() {\n    return { value: this.state.childContext, a: 'aaaaa' }\n  }\n\n  render() {\n    return (\n      <>\n        <div>\n          <label>childContext:</label>\n          <input\n            type=\"text\"\n            value={this.state.childContext}\n            onChange={e => this.setState({ childContext: e.target.value })}\n          />\n        </div>\n        <div>\n          <label>newContext:</label>\n          <input\n            type=\"text\"\n            value={this.state.newContext}\n            onChange={e => this.setState({ newContext: e.target.value })}\n          />\n        </div>\n        <Provider value={this.state.newContext}>{this.props.children}</Provider>\n      </>\n    )\n  }\n}\n\nclass Parent2 extends React.Component {\n  // { value: this.state.childContext, a: 'bbbbb' }\n  getChildContext() {\n    return { a: 'bbbbb' }\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n\nfunction Child1(props, context) {\n  console.log(context)\n  return <Consumer>{value => <p>newContext: {value}</p>}</Consumer>\n}\n\nChild1.contextTypes = {\n  value: PropTypes.string,\n}\n\nclass Child2 extends React.Component {\n  render() {\n    return (\n      <p>\n        childContext: {this.context.value} {this.context.a}\n      </p>\n    )\n  }\n}\n\n// Child2.contextType = Consumer\n\nChild2.contextTypes = {\n  value: PropTypes.string,\n  a: PropTypes.string,\n}\n\nParent.childContextTypes = {\n  value: PropTypes.string,\n  a: PropTypes.string,\n}\n\nParent2.childContextTypes = {\n  a: PropTypes.string,\n}\n\nexport default () => (\n  <Parent>\n    <Parent2>\n      <Child1 />\n      <Child2 />\n    </Parent2>\n  </Parent>\n)\n"]},"metadata":{},"sourceType":"module"}